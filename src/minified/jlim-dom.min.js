/** jLim DOM - MIT license - https://github.com/freelancephp/jLim */
jLim.fn.extend({attr:function(a,b){if(typeof b=="undefined"){if(typeof a=="string"){return this.length?this.get(0)[a]:null}else{for(var c in a){this.attr(c,a[c])}return this}}return this.each(function(){if(typeof this[a]!="undefined"){if(b===null){this.removeAttribute(a)}else{this[a]=b}}})},removeAttr:function(a){return this.attr(a,null)},html:function(a){if(typeof a=="undefined")return this.length?this.get(0).innerHTML:null;try{this.each(function(){this.innerHTML=a})}catch(b){this.empty().append(a)}return this},empty:function(){var a;for(var b=0,c=this.size();b<c;b++){a=this[b];while(a.firstChild)a.removeChild(a.firstChild)}return this},text:function(a){if(typeof a=="undefined")return this.length?this.get(0).innerText:null;return this.empty().each(function(){var b=document.createTextNode(a);jLim(this).append(b)})},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},append:function(a){var b=jLim(a);return this.each(function(a){var c=this;if(a>0)b=b.clone();b.each(function(a){c.appendChild(b.get(a))})})},prepend:function(a){var b=jLim(a);return this.each(function(a){if(a>0)b=b.clone();if(this.childNodes.length>0){b.insertBefore(this.childNodes[0])}else{jLim(this).append(b)}})},appendTo:function(a){jLim(a).append(this);return this},prependTo:function(a){jLim(a).prepend(this);return this},insertAfter:function(a){var b=jLim(a),c=this;b.each(function(a){var b=a>0?c.clone():c,d=this;b.each(function(a){if(a==0){d.parentNode.insertBefore(this,d.nextSibling)}else{var c=b.get(a-1);c.parentNode.insertBefore(this,c.nextSibling)}})});return this},insertBefore:function(a){var b=jLim(a),c=this;b.each(function(a){var b=a>0?c.clone():c;this.parentNode.insertBefore(b.get(0),this);b.slice(1).insertAfter(b.get(0))});return this},after:function(a){jLim(a).insertAfter(this);return this},before:function(a){jLim(a).insertBefore(this);return this},replaceWith:function(a){var b=jLim(a);return this.each(function(a){b=a>0?b.clone():b;this.parentNode.replaceChild(b.get(0),this);b.slice(1).insertAfter(b.get(0))})},clone:function(){var a=[];this.each(function(){var b;if(typeof this.cloneNode!="undefined"){b=this.cloneNode(true)}else if(typeof this=="object"){b=jLim.extend({},this)}else{b=this}a.push(b)});return this.chain(a)}});